{{ define "main" }}
<div class="hero">
    <div id="ytPlayer"></div>
    <div class="hero-content">
        
        
        <div class="cta-buttons">
            <a href="/music" class="cta-button">Listen to Latest Tracks</a>
            <a href="/events" class="cta-button">View Tour Dates</a>
        </div>
        <p>Tropical House Maestro</p>
    </div>
</div>

<section class="featured-content">
    <div class="latest-release">
        <h2>Latest Release</h2>
        <!-- Add content for the latest release -->
    </div>
    <div class="upcoming-events">
        <h2>Upcoming Events</h2>
        <!-- Add content for upcoming events -->
    </div>
</section>

<section class="featured-video">
    <h2>Featured Video</h2>
    <!-- Add embedded video player here -->
</section>

<section class="social-feed">
    <h2>Connect with Kygo</h2>
    <!-- Add social media feed integration here -->
</section>

<!-- YouTube API Script -->
<script src="https://www.youtube.com/iframe_api"></script>
<script>
    var player;
    function onYouTubeIframeAPIReady() {
        player = new YT.Player('ytPlayer', {
            videoId: 'MFEv7-w7_vE', // Replace with your YouTube video ID
            playerVars: {
                'autoplay': 1,
                'controls': 0,
                'showinfo': 0,
                'rel': 0,
                'loop': 1,
                'playlist': 'MFEv7-w7_vE', // Same as videoId, required for looping
                'mute': 1
            },
            events: {
                'onReady': onPlayerReady,
                'onStateChange': onPlayerStateChange
            }
        });
    }

    function onPlayerReady(event) {
        event.target.playVideo();
        resizeVideo();
        window.addEventListener('resize', resizeVideo);
    }

    function onPlayerStateChange(event) {
        if (event.data == YT.PlayerState.ENDED) {
            player.playVideo();
        }
    }

    function resizeVideo() {
        var w = window.innerWidth;
        var h = window.innerHeight;
        var videoRatio = 16/9;
        var windowRatio = w/h;
        var newWidth, newHeight;

        if (windowRatio > videoRatio) {
            newWidth = w;
            newHeight = w / videoRatio;
        } else {
            newHeight = h;
            newWidth = h * videoRatio;
        }

        player.setSize(newWidth, newHeight);
    }
</script>
{{ end }}