class MusicPlayer{constructor(){this.audio=new Audio,this.isPlaying=!1,this.currentTrackIndex=0,this.tracks=[{title:"Firestone",artist:"Kygo ft. Conrad Sewell",src:"/music/firestone.mp3",art:"/images/firestone-art.jpg"},{title:"Stole the Show",artist:"Kygo ft. Parson James",src:"/music/stole-the-show.mp3",art:"/images/img5.jpeg"}],this.initElements(),this.addEventListeners(),this.loadTrack(this.currentTrackIndex)}initElements(){this.playerElement=document.getElementById("music-player"),this.playPauseBtn=document.getElementById("play-pause"),this.prevBtn=document.getElementById("prev-track"),this.nextBtn=document.getElementById("next-track"),this.albumArt=document.getElementById("album-art"),this.trackTitle=document.getElementById("track-title"),this.trackArtist=document.getElementById("track-artist"),this.progressBar=document.getElementById("progress-bar")}addEventListeners(){this.playPauseBtn.addEventListener("click",()=>this.togglePlayPause()),this.prevBtn.addEventListener("click",()=>this.prevTrack()),this.nextBtn.addEventListener("click",()=>this.nextTrack()),this.audio.addEventListener("timeupdate",()=>this.updateProgress()),this.audio.addEventListener("ended",()=>this.nextTrack())}loadTrack(e){const t=this.tracks[e];this.audio.src=t.src,this.albumArt.src=t.art,this.trackTitle.textContent=t.title,this.trackArtist.textContent=t.artist}togglePlayPause(){this.isPlaying?this.pauseTrack():this.playTrack()}playTrack(){this.audio.play(),this.isPlaying=!0,this.playPauseBtn.innerHTML='<i class="fas fa-pause"></i>'}pauseTrack(){this.audio.pause(),this.isPlaying=!1,this.playPauseBtn.innerHTML='<i class="fas fa-play"></i>'}prevTrack(){this.currentTrackIndex--,this.currentTrackIndex<0&&(this.currentTrackIndex=this.tracks.length-1),this.loadTrack(this.currentTrackIndex),this.isPlaying&&this.playTrack()}nextTrack(){this.currentTrackIndex++,this.currentTrackIndex>=this.tracks.length&&(this.currentTrackIndex=0),this.loadTrack(this.currentTrackIndex),this.isPlaying&&this.playTrack()}updateProgress(){const e=this.audio.currentTime/this.audio.duration*100;this.progressBar.style.width=`${e}%`}}document.addEventListener("DOMContentLoaded",()=>{new MusicPlayer})